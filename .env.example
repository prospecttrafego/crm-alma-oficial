# Ambiente
# Use este arquivo como base para `.env.staging` e `.env.production`.
NODE_ENV=production
PORT=3000

# Chave secreta para sessoes (gere uma chave segura com: openssl rand -base64 32)
SESSION_SECRET=sua-chave-secreta-aqui

# Supabase - Configuracoes de conexao
SUPABASE_URL=https://xxxxx.supabase.co
SUPABASE_ANON_KEY=sua-anon-key-aqui
SUPABASE_SERVICE_ROLE_KEY=sua-service-role-key-aqui

# Banco de dados PostgreSQL (formato Supabase)
DATABASE_URL=postgresql://usuario:senha@host:5432/database

# OpenAI API (para funcionalidades de AI como lead scoring)
OPENAI_API_KEY=sua-openai-api-key-aqui

# URL da aplicacao (para callbacks e links)
APP_URL=https://crm.seudominio.com

# Configuracao de registro de usuarios
# true = qualquer pessoa pode criar conta
# false = apenas admins podem criar usuarios
ALLOW_REGISTRATION=false

# Single-tenant mode
# ID da organizacao padrao (recomendado definir em producao).
# Se nao definido, o servidor so inicia em single-tenant quando existir exatamente 1 organizacao no banco.
DEFAULT_ORGANIZATION_ID=1

# Variavel de ambiente para o cliente (Vite)
VITE_ALLOW_REGISTRATION=false

# Upstash Redis (opcional - para cache e rate limiting)
# Obter credenciais em: https://console.upstash.com
UPSTASH_REDIS_REST_URL=https://xxx.upstash.io
UPSTASH_REDIS_REST_TOKEN=xxx


# Firebase Cloud Messaging (opcional - para push notifications)
# Obter credenciais no Firebase Console > Project Settings > Service Accounts
FIREBASE_PROJECT_ID=seu-projeto-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxx@seu-projeto.iam.gserviceaccount.com

# Firebase Client SDK (para o frontend - obter no Firebase Console > Project Settings > General)
VITE_FIREBASE_API_KEY=sua-api-key
VITE_FIREBASE_AUTH_DOMAIN=seu-projeto.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=seu-projeto-id
VITE_FIREBASE_STORAGE_BUCKET=seu-projeto.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789
VITE_FIREBASE_APP_ID=1:123456789:web:abcdef123456
VITE_FIREBASE_VAPID_KEY=sua-vapid-key-aqui

# Evolution API (opcional - para integracao WhatsApp)
# Instalar e configurar Evolution API: https://doc.evolution-api.com/
EVOLUTION_API_URL=https://seu-evolution-api.com
EVOLUTION_API_KEY=sua-api-key-aqui
# Prefixo opcional (unico por deploy) para evitar colisao de instanceName quando multiplos CRMs usam a mesma Evolution API
# Ex.: alma-crm-a, alma-crm-b
EVOLUTION_INSTANCE_PREFIX=
# Webhook secret para validar chamadas recebidas da Evolution API (recomendado em producao)
EVOLUTION_WEBHOOK_SECRET=sua-webhook-secret-aqui

# Google Calendar OAuth (opcional)
# Configurar no Google Cloud Console > APIs & Services > Credentials
GOOGLE_CLIENT_ID=seu-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=sua-google-client-secret
# Deve corresponder exatamente ao Redirect URI configurado no Google (recomendado definir explicitamente)
GOOGLE_REDIRECT_URI=http://localhost:3000/api/auth/google/callback
# Chave base64 de 32 bytes para criptografar tokens (obrigatoria em producao)
# (gerar com: openssl rand -base64 32)
GOOGLE_TOKEN_ENCRYPTION_KEY=sua-chave-base64-aqui

# Sentry (opcional - para rastreamento de erros e monitoramento)
# Configurar no Sentry > Project Settings > Client Keys (DSN)
SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx
# Versao da aplicacao (para release tracking)
APP_VERSION=1.0.0
